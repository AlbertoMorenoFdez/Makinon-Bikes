<div class="container">
  <mat-progress-spinner *ngIf="cargando" mode="indeterminate"></mat-progress-spinner>
</div>
<div *ngIf="!cargando">
  <div class="card" *ngIf="citas.length > 0; else noCitas">
    <ul>
      @for (cita of citas; track cita.id) {
        <li>
          <div><strong>Título de la cita:</strong> {{cita.opcion}}</div>
          <div><strong>Estado:</strong> {{cita.estado}}</div>
          <img *ngIf="cita.imagen_url" [src]="cita.imagen_url" alt="Imagen de la cita" style="max-width: 100px; max-height: 100px;">
          <button mat-icon-button (click)="detalles(cita.id_cita_taller)" aria-label="Más información sobre la cita">
            <mat-icon>info_outline</mat-icon>
          </button>
        </li>
      }
    </ul>
    <app-detalles-cita *ngIf="mostrarDetalles" [cita]="citaSeleccionada" (cerrar)="ocultarDetalles()"></app-detalles-cita>
  </div>
  <ng-template #noCitas>
    <p>No hay citas disponibles.</p>
  </ng-template>
</div>
